package uk.co.nikodem.DFJavaResourcesPlus;

import net.kyori.adventure.key.Key;
import team.unnamed.creative.ResourcePack;
import team.unnamed.creative.base.Writable;
import team.unnamed.creative.model.Model;
import team.unnamed.creative.model.ModelTexture;
import team.unnamed.creative.model.ModelTextures;
import team.unnamed.creative.serialize.minecraft.MinecraftResourcePackWriter;
import team.unnamed.creative.texture.Texture;

import java.io.File;

public class Main {
    public static void main(String[] args) {
        ResourcePack resourcePack = ResourcePack.resourcePack();

        Texture texture = Texture.texture()
                .key(Key.key("dfjr", "vein_axe.png"))
                .data(Writable.resource(ClassLoader.getSystemClassLoader(), "vein_axe.png"))
                .build();

        Model model = Model.model()
                .parent(Key.key("minecraft", "item/handheld"))
                .key(Key.key("dfjr", "vein_axe"))
                .textures(ModelTextures.builder()
                        .addLayer(
                                ModelTexture.ofKey(Key.key("vein_axe"))
                        )
                        .build())
                .build();

        resourcePack.model(model);
        resourcePack.texture(texture);

        resourcePack.packMeta(64, "DFJavaResourcesPlus 1.21.7+ (Autogenerated)");
        resourcePack.icon(Writable.resource(ClassLoader.getSystemClassLoader(), "pack.png"));

        MinecraftResourcePackWriter.minecraft().writeToZipFile(
                new File("dfjavaresourcesplus.zip"),
                resourcePack
        );
    }
}